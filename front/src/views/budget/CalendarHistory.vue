<template>
  <div class="history-container">
    <SideBar />

    <div class="history2-container">
      <!-- ìƒë‹¨ í•„í„° ì˜ì—­ -->
      <div class="filter-header">
        <div class="left-section">
          <button class="filter-btn active">
            <span class="check-icon">âœ“</span>
            ì´ì§€ì—° ë‹˜ì˜ ê°€ê³„ë¶€
          </button>
          <button class="more-btn">â‹¯</button>
        </div>
        <div class="right-section">
          <button class="write-btn">ê°€ê³„ë¶€ ì‘ì„±í•˜ê¸° ğŸ“</button>
        </div>
      </div>

      <!-- ë©”ì¸ í•„í„° -->
      <div class="main-filters">
        <div class="filter-tabs">
          <button class="tab-btn active">ë‚´ì—­ ì „ì²´ë³´ê¸° â–¾</button>
          <button class="tab-btn">ì¹´í…Œê³ ë¦¬ ì „ì²´ë³´ê¸° â–¾</button>
        </div>
      </div>

      <!-- í…Œì´ë¸” í—¤ë” -->
      <div class="table-container">
        <table class="history-table">
          <thead>
          <tr>
            <th class="checkbox-col">
              <input type="checkbox">
            </th>
            <th>ë¶„ë¥˜</th>
            <th>ë‚ ì§œ</th>
            <th>ì¹´í…Œê³ ë¦¬</th>
            <th>ê²°ì œìˆ˜ë‹¨</th>
            <th>ê°€ê²Œì§€</th>
            <th>ê¸ˆì•¡</th>
            <th>ë©”ëª¨</th>
            <th>ì‘ì„±ì</th>
            <th>ì•¡ì…˜</th>
          </tr>
          </thead>
          <tbody>
          <tr v-for="item in historyItems" :key="item.id">
            <td><input type="checkbox"></td>
            <td>
              <span :class="['type-badge', item.type]">
                {{ item.type === 'income' ? 'ìˆ˜ì…' : 'ì§€ì¶œ' }}
              </span>
            </td>
            <td>{{ item.date }}</td>
            <td>{{ item.category }}</td>
            <td>{{ item.payment }}</td>
            <td>{{ item.store }}</td>
            <td :class="['amount', item.type]">
              {{ formatNumber(item.amount) }}ì›
            </td>
            <td>{{ item.memo }}</td>
            <td>{{ item.writer }}</td>
            <td class="action-buttons">
              <button class="action-btn">ìˆ˜ì •í•˜ê¸°</button>
              <button class="action-btn">ì‚­ì œí•˜ê¸°</button>
            </td>
          </tr>
          </tbody>
        </table>
      </div>

      <!-- í˜ì´ì§€ë„¤ì´ì…˜ -->
      <div class="pagination">
        <button class="page-btn">â†</button>
        <button class="page-btn active">1</button>
        <button class="page-btn">â†’</button>
      </div>
    </div>
    </div>
</template>

<script setup>
import SideBar from "@/components/common/SideBar.vue";

</script>

<style scoped>
.history-container {
  padding: 32px;
  margin-left: 440px;
  max-width: 1300px;
  background: white;
}

.history2-container {
  padding: 20px;
  background: white;
}

.filter-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 20px;
}

.left-section {
  display: flex;
  gap: 8px;
  align-items: center;
}

.filter-btn {
  display: flex;
  align-items: center;
  gap: 8px;
  padding: 8px 16px;
  border: 1px solid #ddd;
  border-radius: 20px;
  background: white;
}

.filter-btn.active {
  background: #f0f0f0;
}

.write-btn {
  padding: 8px 16px;
  background: #4C6EF5;
  color: white;
  border: none;
  border-radius: 8px;
}

.main-filters {
  margin-bottom: 20px;
}

.filter-tabs {
  display: flex;
  gap: 12px;
}

.tab-btn {
  padding: 8px 16px;
  border: none;
  background: none;
  cursor: pointer;
}

.tab-btn.active {
  font-weight: 600;
  border-bottom: 2px solid #4C6EF5;
}

.history-table {
  width: 100%;
  border-collapse: collapse;
}

.history-table th,
.history-table td {
  padding: 12px;
  text-align: left;
  border-bottom: 1px solid #eee;
}

.type-badge {
  padding: 4px 8px;
  border-radius: 4px;
  font-size: 12px;
}

.type-badge.income {
  background: #e8f5e9;
  color: #1BBF83;
}

.type-badge.expense {
  background: #ffebee;
  color: #ff6b6b;
}

.amount.income {
  color: #1BBF83;
}

.amount.expense {
  color: #ff6b6b;
}

.action-buttons {
  display: flex;
  gap: 8px;
}

.action-btn {
  padding: 4px 8px;
  border: 1px solid #ddd;
  border-radius: 4px;
  background: white;
  color: #666;
  font-size: 12px;
}

.pagination {
  display: flex;
  justify-content: center;
  gap: 8px;
  margin-top: 20px;
}

.page-btn {
  padding: 8px 12px;
  border: 1px solid #ddd;
  border-radius: 4px;
  background: white;
}

.page-btn.active {
  background: #4C6EF5;
  color: white;
  border-color: #4C6EF5;
}
</style>